(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[118],{5009:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/countdown",function(){return n(3700)}])},3700:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return Countdown}});var s=n(1527),i=n(9854),l=n(959),r=n(4647),a=n.n(r),o=n(7296),u=n.n(o);let isNotInAnIFrame=()=>window===window.parent;function Edit(e){let{children:t}=e,[n,i]=l.useState(!1);return(0,s.jsx)(s.Fragment,{children:isNotInAnIFrame()&&(0,s.jsxs)("div",{className:u().container,children:[(0,s.jsx)("button",{className:u().btn,onClick:()=>i(e=>!e),children:"Edit"}),n&&(0,s.jsxs)("form",{action:"",method:"get",className:u().box,children:[t,(0,s.jsx)("input",{type:"submit"}),(0,s.jsxs)("i",{style:{opacity:.5},children:["Refer to the ",(0,s.jsx)(a(),{href:"/",children:"home page"})," for documentation."]})]})]})})}var d=n(5383),c=n.n(d);let h=["year","month","week","day","hour","minute","second"];function Countdown(){var e;let t=(0,i.useRouter)(),[n,r]=l.useState([[],0]),[a,o]=l.useState(!1),u=l.useCallback(()=>{if("string"!=typeof t.query.date)return;let e=new Date(t.query.date).getTime(),n=e-new Date().getTime(),s=Math.abs(n)/1e3,i=[],l=Math.floor(s/31536e3);s-=31536e3*l;let a=Math.floor(s/2592e3);s-=2592e3*a;let o=Math.floor(s/604800);s-=604800*o;let d=Math.floor(s/86400);s-=86400*d;let c=Math.floor(s/3600);s-=3600*c;let h=Math.floor(s/60);s-=60*h;let f=Math.floor(s);i.push(l,a,o,d,c,h,f),r([i,n<0?-1:1]),requestAnimationFrame(()=>setTimeout(u,1000.1-new Date().getMilliseconds()))},[t.query.date]);return l.useEffect(()=>{t.query.date&&!a&&(o(!0),u())},[t.query.date,a,u]),a&&(0,s.jsxs)("div",{children:[(0,s.jsxs)(Edit,{children:[(0,s.jsxs)("label",{children:[(0,s.jsx)("span",{children:"date"}),(0,s.jsx)("input",{type:"datetime-local",name:"date",defaultValue:"string"!=typeof t.query.date?"":(()=>{let e=new Date(t.query.date);return e.setMinutes(e.getMinutes()-e.getTimezoneOffset()),e.toISOString().slice(0,16)})()})]}),(0,s.jsxs)("label",{children:[(0,s.jsx)("span",{children:"event"}),(0,s.jsx)("input",{type:"text",name:"event",defaultValue:t.query.event})]})]}),(0,s.jsxs)("div",{className:c().units,children:[n[0].map((e,t)=>e||t===h.length-1?(0,s.jsxs)("div",{className:c().unit,children:[(0,s.jsx)("div",{className:c().num,children:e})," ",h[t],t!==h.length-1?(0,s.jsxs)(s.Fragment,{children:[1!==e&&"s",","]}):(0,s.jsx)("span",{style:{opacity:1!==e?1:0},children:"s"})]},t):[]),(0,s.jsx)("div",{className:c().unit,children:n[1]>0?"left":"ago"})]}),!!(null===(e=t.query.event)||void 0===e?void 0:e.length)&&(0,s.jsxs)("p",{style:{textAlign:"center"},children:[n[1]>0?"until":"was"," ",(0,s.jsx)("strong",{children:t.query.event})]})]})}},7296:function(e){e.exports={container:"style_container__4Ul5U",btn:"style_btn__kSP31",box:"style_box__FDZIH"}},5383:function(e){e.exports={units:"style_units__g6l6s",unit:"style_unit__mAKTU",num:"style_num__fd_Yb"}},9854:function(e,t,n){e.exports=n(8555)}},function(e){e.O(0,[647,774,888,179],function(){return e(e.s=5009)}),_N_E=e.O()}]);